<div align="left" style="position: relative;">
<img src="https://nocountry.tech/one.png" align="right" width="80" style="margin: auto;">
<img src="https://nocountry.tech/nocountry-logo.png" align="right" width="80" style="margin: 10px;">
<h1 style="padding-bottom: 2rem;" >SentimentAPI</h1>
<p align="left">
	<em>Transformando feedback bruto em intelig√™ncia de dados.</em><br>
	<em>Apresenta√ß√£o em https://www.youtube.com/watch?v=43Q5quqrRGU</em>
</p>

</div>


## üìù Introdu√ß√£o 
A SentimentAPI √© uma API REST desenvolvida em Java com Spring Boot que realiza an√°lise de sentimentos em textos, classificando-os como Positivo, Negativo ou Neutro.

O sistema integra um modelo de Ci√™ncia de Dados treinado com t√©cnicas de Processamento de Linguagem Natural (NLP), permitindo que aplica√ß√µes consumam previs√µes de sentimento de forma autom√°tica por meio de requisi√ß√µes HTTP, com retorno em formato JSON.

O projeto foi desenvolvido como um MVP funcional, com foco na integra√ß√£o entre Back-end e Ci√™ncia de Dados, demonstrando uma solu√ß√£o aplic√°vel a cen√°rios reais de neg√≥cio.


## üéØ Problema de Neg√≥cio

Empresas recebem diariamente um grande volume de coment√°rios, avalia√ß√µes e feedbacks de clientes em canais como redes sociais, pesquisas de satisfa√ß√£o e plataformas de atendimento.

* A an√°lise manual dessas informa√ß√µes se torna invi√°vel com o aumento do volume de dados.
* A SentimentAPI oferece uma solu√ß√£o autom√°tica para:
* Identificar rapidamente elogios e reclama√ß√µes;
* Priorizar respostas a coment√°rios negativos;
* Acompanhar a percep√ß√£o da marca ao longo do tempo;
* Apoiar decis√µes nas √°reas de atendimento, marketing e opera√ß√µes.

## ‚öôÔ∏è Funcionalidades (MVP)
* Classifica√ß√£o de sentimento de textos (Positivo / Negativo / Neutro);
* API REST para consumo por aplica√ß√µes externas;
* Retorno da previs√£o acompanhada de probabilidade;
* Valida√ß√£o de entrada e tratamento de erros;
* Suporte a textos em Portugu√™s e Ingl√™s.

# üß† Recursos de Data Science

A camada de intelig√™ncia do projeto foi desenvolvida utilizando **Python** e bibliotecas de **Machine Learning** focadas em Processamento de Linguagem Natural (NLP). Abaixo est√£o listados os recursos, algoritmos e t√©cnicas empregados para garantir a precis√£o do modelo h√≠brido (Finan√ßas + Atendimento).

## üõ†Ô∏è Tecnologias e Bibliotecas

| Recurso | Vers√£o/Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| **Linguagem** | Python 3.x | Linguagem base para desenvolvimento do modelo e scripts de automa√ß√£o. |
| **Scikit-learn** | Lib (Python) | Biblioteca principal para cria√ß√£o do Pipeline, Algoritmo de Classifica√ß√£o e M√©tricas. |
| **Pandas** | Lib (Python) | Manipula√ß√£o e estrutura√ß√£o dos datasets, limpeza de dados e inje√ß√£o da "Vacina". |
| **Numpy** | Lib (Python) | Processamento num√©rico de alta performance para vetores e matrizes. |
| **Skl2onnx** | Lib (Python) | Conversor respons√°vel por transformar o modelo Python em formato **.onnx**. |
| **ONNX** | Standard | *Open Neural Network Exchange*. Formato utilizado para exportar o modelo treinado para o Backend (Java). |

## ‚öôÔ∏è Arquitetura do Modelo

O modelo de An√°lise de Sentimentos utiliza uma arquitetura de aprendizado supervisionado composta por:

### 1. Pr√©-Processamento e Vetoriza√ß√£o
* **TF-IDF Vectorizer:** Transforma texto em n√∫meros baseando-se na frequ√™ncia e relev√¢ncia das palavras.
* **N-Grams (1, 2):** Configurado para entender palavras isoladas ("lucro") e pares de palavras ("n√£o lucro", "lucro l√≠quido") para captar contexto.
* **Multilanguage Support:** O modelo foi treinado para processar entradas tanto em **Portugu√™s (PT-BR)** quanto em **Ingl√™s (EN)** simultaneamente.

### 2. Algoritmo Classificador
* **Logistic Regression:** Escolhido por sua efici√™ncia em classifica√ß√£o de texto e probabilidade calibrada.
    * *Solver:* `lbfgs`
    * *Max Iter:* 500
    * *Class Weight:* Ajustado via Oversampling manual.

## üß™ Engenharia de Dados e T√©cnicas Avan√ßadas

Para garantir a robustez do modelo em cen√°rios reais, foram aplicadas as seguintes t√©cnicas:

* **Balanceamento de Classes (Oversampling):**
    * T√©cnica utilizada para evitar o vi√©s da IA em dire√ß√£o √† classe neutra.
    * Duplica√ß√£o estrat√©gica de exemplos das classes minorit√°rias (Positivo e Negativo) para equilibrar o aprendizado.

* **Calibra√ß√£o Fina ("Vacina de Dados"):**
    * Inje√ß√£o manual de dados sint√©ticos (Data Augmentation) para corrigir erros espec√≠ficos de dom√≠nio.
    * Corre√ß√£o for√ßada para termos cr√≠ticos como *"Fal√™ncia"* (Negativo) e *"Incr√≠vel"* (Positivo).
    * Inclus√£o de g√≠rias e vocabul√°rio informal de Customer Service ("Lixo", "Maravilhoso").

## üìÇ Artefatos Gerados

* **`sentiment_model_multilang.onnx`**: Arquivo bin√°rio final contendo o modelo treinado e o vetorizador, pronto para ser consumido pela aplica√ß√£o Java sem necessidade de Python instalado no servidor.

--- 

# üíª Recursos de Back-end

O Back-end √© respons√°vel por gerenciar as requisi√ß√µes da API, validar os dados de entrada, integrar o modelo de Intelig√™ncia Artificial e retornar as previs√µes em formato JSON.

Ele atua como a camada intermedi√°ria entre as aplica√ß√µes clientes e o modelo de Ci√™ncia de Dados, garantindo comunica√ß√£o consistente, tratamento de erros e clareza nas respostas.

## üõ†Ô∏è Stack Tecnol√≥gico

| Recurso | Vers√£o/Tipo | Descri√ß√£o |
| :--- | :--- | :--- |
| **Java** | 21.x | Linguagem principal da aplica√ß√£o |
| **Spring Boot** | 4.x | Framework para constru√ß√£o da API REST |
| **Maven** | 3.9 | Gerenciamento de depend√™ncias e build |
| **ONNX Runtime** | 1.19.2 | Execu√ß√£o do modelo de Machine Learning |
| **Nginx** | Opcional | Proxy Reverso utilizado para servir o Frontend |
| **PostgreSQL** | 15-Alpine | Banco de dados para persist√™ncia de dados |
| **Flyway** | Latest | Gerenciamento de migra√ß√µes de banco de dados |

## üèóÔ∏è Arquitetura da Aplica√ß√£o

O sistema foi estruturado seguindo o padr√£o **MVC**, organizado da seguinte forma:

### 1. Camada de Controladores
* **Fun√ß√£o:** Receber requisi√ß√µes HTTP e retornar respostas JSON.
* **Componentes:** Componentes: Endpoints REST, como /sentiment.

### 2. Camada de Servi√ßos
* **Fun√ß√£o:**  Implementar a l√≥gica de neg√≥cio.
* **Integra√ß√£o IA:** Respons√°vel por carregar o modelo .onnx, preparar os dados de entrada e interpretar a sa√≠da do modelo (r√≥tulos e probabilidades).

### 3. Camada de Dados
* **Fun√ß√£o:** Persist√™ncia das requisi√ß√µes e previs√µes (quando habilitada).
* **ORM/Driver:** Spring Data JPA / JDBC.

## üîå Integra√ß√µes e Seguran√ßa

Para garantir a robustez e a comunica√ß√£o do sistema, foram implementados:

* **Integra√ß√£o com Modelo ONNX:**
    * Carregamento do modelo serializado;
    * Convers√£o da sa√≠da num√©rica do modelo para r√≥tulos compreens√≠veis (Positivo, Neutro ou Negativo).

* **Valida√ß√£o de Entrada:**
    * Verifica√ß√£o da exist√™ncia do texto e tamanho m√≠nimo;
    * Retorno de mensagens de erro claras e amig√°veis.

* **Consist√™ncia de Respostas:**
    * Padroniza√ß√£o das respostas JSON, tanto para sucesso quanto para erro.

## üì° Endpoints da API

* POST /sentiment

Classifica o sentimento de um texto enviado.



* Request: 


``` json
{

  "text": "O atendimento foi excelente e muito r√°pido."

}

```

* Response: 

``` json
{

  "previsao": "Positivo",

  "probabilidade": 0.87

}
```

## ‚öôÔ∏è Como Executar
Este projeto foi desenvolvido utilizando Jupyter Notebook. Para reproduzir o treinamento do modelo ou gerar novas vers√µes do arquivo ONNX, siga os passos abaixo:

#### **Pr√©-requisitos**:

* Python 3.8 ou superior

* Pip (Gerenciador de pacotes)

#### **Passo a Passo**

1. Clone o reposit√≥rio

```Bash
git clone https://github.com/cauasantoslt/SentimentAPI.git

cd SentimentAPI
```

2. Instale as depend√™ncias

```Bash
pip install -r requirements.txt
```

3. Execute o Notebook

* Abra o terminal na pasta do projeto e digite:

```Bash
jupyter notebook
```

* Abra o arquivo AnaliseDeSentimentos.ipynb.

* Execute todas as c√©lulas sequencialmente para baixar o dataset, treinar o modelo e exportar o arquivo .onnx.

### Compilar o projeto

```Bash
./mvnw clean install
```

### Executar a aplica√ß√£o
```Bash
./mvnw spring-boot:run
```

A aplica√ß√£o ficar√° dispon√≠vel em:http://localhost:8080

*Nota sobre a Integra√ß√£o:* O artefato final deste processo √© o arquivo sentiment_model_multilang.onnx. Este arquivo deve ser carregado pela aplica√ß√£o Backend (Java) para realizar as predi√ß√µes em produ√ß√£o. O input esperado pelo modelo chama-se text_input.

---

## üì¶ Artefatos de Deploy

* application.jar: artefato execut√°vel da aplica√ß√£o.
* application.properties: arquivo de configura√ß√£o com vari√°veis de ambiente.
* Postman / cURL: ferramentas recomendadas para teste dos endpoints da API.

## üîó Links para recursos
* JDK Microsoft: https://learn.microsoft.com/en-us/java/openjdk/download
* VC++ Microsoft: https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-supported-redistributable-version 
* Onnx Runtime Documenta√ß√£o Java: https://onnxruntime.ai/docs/get-started/with-java

## üë• Integrantes

Time respons√°vel pelo desenvolvimento da solu√ß√£o:

| **Backend Developers** ‚òï | **Data Scientists** üìä |
| :--- | :--- |
| [Julio Clepf de Carvalho](https://www.linkedin.com/in/julio-clepf/) | [Carolini Rufino dos Santos](https://www.linkedin.com/in/carolinirufino) |
 [Laura Tenan](https://www.linkedin.com/in/laura-tenan/) | [Cau√£ Santos](https://linkedin.com/in/cauasantoslt) | 
| [Keila De Oliveira Nunes](https://www.linkedin.com/in/keilanunes-dev) | [Jefferson Franca Ferreira](https://www.linkedin.com/in/jefferson-ferreira-ds/) |
| [Pedro Henrique de Assis Ferreira](https://www.linkedin.com/in/phaferreira/) | 
| [Rafael Silva Nunes](https://www.linkedin.com/in/rafaelsilvanunes) | 
